---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/tailwind.css";
import "../styles/animations.css";
const { title } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{Astro.props.title}</title>
    <script
      defer
      src="https://unpkg.com/tailwindcss-intersect@2.x.x/dist/observer.min.js"
    ></script>
  </head>
  <body>
    <header>
      <Header />
    </header>

    <main>
      <!-- LOGIN SEKTION -->
      <section
        id="login-section"
        class="bg-gray-100 flex items-center justify-center min-h-screen fixed inset-0 z-50"
      >
        <div
          id="login"
          class="bg-white shadow-lg rounded-2xl p-8 w-full max-w-sm text-center flex flex-col items-center"
        >
          <h1 class="text-2xl font-bold mb-4 text-black">
            Dette er et studieprojekt
          </h1>
          <p class="text-black mb-6">Skriv koden for at få adgang til siden</p>
          <input
            type="password"
            id="password"
            placeholder="Adgangskode"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none mb-4"
          />
          <button
            id="loginBtn"
            class="w-full bg-[#FF5900] text-white py-2 rounded-lg font-semibold hover:bg-primary transition mb-2"
          >
            Log ind
          </button>
          <p id="error" class="text-red-500 text-sm mt-3 hidden">
            Forkert kode – prøv igen
          </p>
        </div>
      </section>
    </main>

    <!-- SCRIPT -->
    <script>
      document
        .getElementById("loginBtn")
        .addEventListener("click", function () {
          const input = (
            document.getElementById("password") as HTMLInputElement
          ).value.trim();
          const error = document.getElementById("error");
          const loginSection = document.getElementById("login-section");

          if (input === "Hojskolen") {
            // Gem loginsektionen og vis resten af siden
            loginSection.classList.add("hidden");
            document.body.classList.remove("overflow-hidden");
          } else {
            error.classList.remove("hidden");
          }
        });

      // Skjul alt indhold bag login, indtil korrekt kode er indtastet
      document.addEventListener("DOMContentLoaded", () => {
        document.body.classList.add("overflow-hidden");
      });
    </script>
    <slot />
  </body>

  <footer>
    <Footer />
  </footer>
</html>
